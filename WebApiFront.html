<!DOCTYPE html>
<html>
    <head>
        <title>WebApi</title>
        <script src="jquery-3.7.1.min.js"></script>
    </head>
    <body>
        <form action="http://127.0.0.1:8000/users/create" onsubmit="">
          <div class="container">
            <h1>Register User</h1>
            <p>Please fill in this form to create an account.</p>
            <hr>
            <label><b>Email</b></label>
            <input type="text" id="email" required>
            <label><b>Username</b></label>
            <input type="text" id="username" required>
            <label><b>Password</b></label>
            <input type="text" id="psw" required>
            <hr>
            <button type="submit">Register</button>
          </div>
        </form>
        <form action="" onsubmit="sendMessage(event)">
          <div class="container">
            <h1>Create Profile</h1>
            <p>Please fill in this form to create profile.</p>
            <hr>
            <label><b>First name</b></label>
            <input type="text" name="fn" required>
            <label><b>Last name</b></label>
            <input type="text" name="ln" required>
            <label><b>Description</b></label>
            <input type="text" name="pd" required>
            <hr>
            <button type="submit">Create</button>
          </div>
        </form>
        <form action="" onsubmit="sendMessage(event)">
          <div class="container">
            <h1>Create Role</h1>
            <p>Please fill in this form to create profile.</p>
            <hr>
            <label><b>Name</b></label>
            <input type="text" name="name" required>
            <label><b>Permission</b></label>
            <input type="text" name="pms" required>
            <hr>
            <button type="submit">Create</button>
          </div>
        </form>
        <ul id='users'>
        </ul>
        <script>
            var ws = new WebSocket("ws://localhost:8000/ws");
            ws.onmessage = function(event) {
                var users = document.getElementById('users')
                var user = document.createElement('li')
                var content = document.createTextNode(event.data)
                user.appendChild(content)
                users.appendChild(user)
            };
            function sendMessage(event) {
                var email = document.getElementById("email")
                var userName = document.getElementById("username")
                var password = document.getElementById("psw")
                ws.send("Пользователь создан")
                email.value = ''
                event.preventDefault()
            }
        </script>
    </body>
</html>